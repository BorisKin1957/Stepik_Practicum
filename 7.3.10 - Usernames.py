'''

Вам дан список строк — каждая строка содержит запись пользователя с
несколькими полями, разделёнными точкой с запятой ;. Нужно проверить,
что запись полностью валидна.

Формат записи:

username;email;phone;date_of_birth




Требования к полям:

    username — строка от 3 до 16 символов, содержащая только латинские
    буквы, цифры, подчёркивания, начинается с буквы.

    email — валидный email по упрощённым правилам:

        имя пользователя: буквы, цифры, ., _, -, не начинается и не
        заканчивается символом, не содержит подряд ..

        знак @

        домен: одна или несколько частей, разделённых точкой .

        каждая часть домена содержит буквы или цифры, начинается и заканчивается буквой/цифрой

        домен верхнего уровня от 2 до 6 букв

    phone — номер в формате +7XXXXXXXXXX (где X — цифра), либо 8XXXXXXXXXX.

    date_of_birth — дата в формате ДД.ММ.ГГГГ, день от 01 до 31, месяц от 01
    до 12, год от 1900 до 2023.

Входные данные:

Несколько строк с записями.
Выходные данные:

Для каждой строки вывести "VALID", если все поля корректны согласно правилам,
иначе "INVALID".

Sample Input:

user_1;john.doe@example.com;+79123456789;15.05.1990
user2;invalid.email@@example..com;81234567890;01.01.1980
a12;alice.smith@mail.co.uk;+71234567890;31.12.2023
user-name;bob@domain.toolongext;+79991234567;29.02.2000

Sample Output:

VALID
INVALID
VALID
INVALID

'''

import re
import sys

# Паттерн для username
name_pattern = re.compile(r'^[a-z][a-z0-9_-]{2,15}$')

# Паттерн для email
email_pattern = re.compile(r'''
    ^[a-z0-9._-]+        # имя: буквы, цифры, . _ -, не начинается/заканчивается точкой/символом, не подряд ..
    (?<!\.)              # не заканчивается точкой
    (?<!\.\.)            # не заканчивается двумя точками
    @                    # обязательный @
    [a-z0-9]+            # первая часть домена
    (?:\.[a-z0-9]+)*     # дополнительные части домена
    \.[a-z]{2,6}$        # домен верхнего уровня: 2–6 букв
''', re.VERBOSE)

# Паттерн для телефона:
phone_pattern = re.compile(r'^(?:\+7|8)\d{10}$')

# Паттерн для даты рождения:
date_pattern = re.compile(r'^(0[1-9]|[12]\d|3[01])\.(0[1-9]|1[0-2])\.(19\d{2}|20[0-2][0-3])$')

for line in sys.stdin:
    string = line.strip().split(';')
    if len(string) != 4:
        print('INVALID')
        continue

    username, email, phone, dob = string

    # Проверка каждого поля
    if (re.match(name_pattern, username) and
        re.match(email_pattern, email) and
        re.match(phone_pattern, phone) and
        re.match(date_pattern, dob)):
        print('VALID')
    else:
        print('INVALID')