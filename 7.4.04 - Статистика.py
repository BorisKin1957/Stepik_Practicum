'''

Напишите программу, которая анализирует времена посещения пользователями
сервиса и выводит статистику по часам. Программа должна:

    Принимать список временных меток ввода пользователя

    Группировать посещения по часам

    Вычислять статистику активности

Входные данные:

    Количество посещений N (1 ≤ N ≤ 1000)

    N строк с временем посещения в формате ЧЧ:ММ (24-часовой формат)

    Порог активности - по умолчанию 3 посещений(включительно)

Выходные данные:

    Список активности по часам:

        Час

        Количество посещений

        Индикатор высокой активности (* если превышен порог)

    Общая статистика:

        Часы с максимальной активностью

        Среднее количество посещений в час(округлить до 1 значения после запятой)

Статистика по часам:
<час>: <число> посещений <возможна звездочка>
<час>: <число> посещений <возможна звездочка>
......

Общая статистика:
Пик активности: НН:ММ
Средняя активность: <вещественное число> посещений/час




Sample Input 1:

5
14:30
15:15
14:45
15:30
14:20

Sample Output 1:

Статистика по часам:
14: 3 посещений *
15: 2 посещений

Общая статистика:
Пик активности: 14:00
Средняя активность: 2.5 посещений/час

Sample Input 2:

8
09:00
09:30
10:15
09:45
10:00
10:30
11:00
09:15

Sample Output 2:

Статистика по часам:
09: 4 посещений *
10: 3 посещений *
11: 1 посещений

Общая статистика:
Пик активности: 09:00
Средняя активность: 2.7 посещений/час

'''

# Создаём пустый словарь для хранения количества посещений по часам.
# Ключ — час (например, '14'), значение — количество посещений в этот час.
statistics = {}

# Считываем количество посещений N
for _ in range(int(input())):
    # Считываем строку с временем в формате ЧЧ:ММ и разбиваем по символу ':'
    # Берём только первую часть — час (индекс [0])
    time = input().split(':')[0]
    # Увеличиваем счётчик для этого часа на 1.
    # Если часа ещё нет в словаре, метод get возвращает 0 (по умолчанию)
    statistics[time] = statistics.get(time, 0) + 1

# Сортируем словарь по количеству посещений (значениям) в порядке убывания
# sorted_statistics будет списком кортежей вида [('14', 3), ('15', 2)]
sorted_statistics = sorted(statistics.items(), key=lambda x: x[1], reverse=True)

# Считаем общее количество посещений
total_visit = sum(statistics.values())
# Считаем общее количество уникальных часов
total_hours = len(statistics.keys())

# Вычисляем среднее количество посещений в час
average_visit = total_visit / total_hours

# Выводим заголовок раздела "Статистика по часам:"
print('Статистика по часам:')

# Перебираем часы в отсортированном порядке (по возрастанию — от 09 до 23 и т.д.)
for time in sorted(statistics.keys()):
    # Если количество посещений в этот час больше 3 (порог) — добавляем
    # звёздочку
    if statistics[time] > average_visit:
        print(f'{time}: {statistics[time]} посещений *')
    else:
        print(f'{time}: {statistics[time]} посещений')

# Печатаем пустую строку (разделитель)
print()

# Выводим заголовок раздела "Общая статистика:"
print('Общая статистика:')
# Пик активности — час с максимальным количеством посещений
# Берём первый элемент из отсортированного списка (наибольшее значение)
# Добавляем ":00", чтобы было в формате ЧЧ:00
print(f'Пик активности: {sorted_statistics[0][0]}:00')
# Выводим среднюю активность, округлённую до одного знака после запятой
print(f'Средняя активность: {average_visit:.1f} посещений/час')

