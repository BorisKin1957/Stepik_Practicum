'''На стол в ряд выложены карточки, на каждой карточке написано натуральное число.
За один ход разрешается взять карточку либо с левого, либо с правого конца ряда.
Всего можно сделать k ходов. Итоговый счет равен сумме чисел на выбранных карточках.
Определите, какой максимальный счет можно получить по итогам игры.
В ответ выведите максимальную сумму очков, которую можно набрать, сделав k ходов.

Sample Input 1:

7
3
5 8 2 1 3 4 11
Sample Output 1:

24
Sample Input 2:

5
5
1 2 3 4 5
Sample Output 2:

15
Sample Input 3:

7
4
1 1 9 2 2 2 6
Sample Output 3:

17'''

# Считываем общее количество карточек
n = int(input())

# Считываем количество ходов, которые можно сделать
k = int(input())

# Считываем список чисел на карточках
numbers = list(map(int, input().split()))

# Берём первые k элементов (k карточек слева)
l1 = numbers[:k]

# Берём последние k элементов и разворачиваем их (k карточек справа, но в порядке снятия с конца)
l2 = numbers[-k:][::-1]

# Инициализируем результат как сумму первых k карточек (все с левого конца)
result = sum(l1)

# Перебираем все возможные комбинации:
# i — сколько карточек мы берём с правого конца (от 1 до k)
for i in range(1, k + 1):
    # Берём (k - i) карточек с левого конца (из l1 без последних i)
    # и i карточек с правого конца (первые i из l2 — то есть последние i из массива)
    tmp = sum(l1[:-i] + l2[:i])

    # Обновляем максимальный результат, если текущая сумма больше
    if tmp > result:
        result = tmp

# Выводим максимальный возможный счёт
print(result)




