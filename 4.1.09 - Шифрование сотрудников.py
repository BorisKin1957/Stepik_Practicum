'''Некоторая крупная компания в очередной раз проводит набор стажёров.
Заботясь о персональных данных соискателей, компания придумала хитрый
алгоритм шифрования:

Подсчитывается количество различных символов в ФИО (регистр важен, А и а —
разные символы).

Берётся сумма цифр в дне и месяце рождения, умноженная на 64.

Для первой (по позиции в слове) буквы фамилии определяется её номер в алфавите
(в 1-индексации), умноженный на 256 (регистр буквы не важен).

Полученные числа суммируются.

Результат переводится в 16-чную систему счисления (в верхнем регистре).

У результата сохраняются только 3 младших разряда (если значимых разрядов меньше,
то шифр дополняется до 3-х разрядов ведущими нулями).

Ваша задача — помочь вычислить для каждого кандидата его шифр.

Sample Input:

2
Volozh,Arcady,Yurievich,11,2,1964
Segalovich,Ilya,Valentinovich,13,9,1964
Sample Output:

710 64F'''

# Читаем количество кандидатов
for _ in range(int(input())):
    # Считываем строку и разбиваем её по запятым
    fio = input().split(',')

    # Создаём словарь: буква → её позиция в алфавите (a=1, b=2, ..., z=26)
    alphabet = {'abcdefghijklmnopqrstuvwxyz'[i]: i + 1 for i in range(26)}

    # Шаг 1: количество различных символов в ФИО (фамилия + имя + отчество)
    # Объединяем первые три элемента и считаем уникальные символы
    res_1 = len(set(''.join(fio[:3])))

    # Шаг 2: сумма всех цифр в дне и месяце рождения, умноженная на 64
    # Например, день=11, месяц=2 → цифры: 1,1,2 → сумма=4 → 4*64=256
    res_2 = sum(map(int, list(fio[3] + fio[4]))) * 64

    # Шаг 3: позиция первой буквы фамилии в алфавите (регистр не важен), умноженная на 256
    # fio[0][0] — первая буква фамилии; .lower() — приводим к нижнему регистру
    res_3 = alphabet[fio[0][0].lower()] * 256

    # Суммируем все три компоненты
    res_dec = res_1 + res_2 + res_3

    # Переводим сумму в 16-ричную систему (возвращает строку вида '0x710')
    # [2:] — убираем префикс '0x'
    # .upper() — переводим в верхний регистр (A-F)
    # [-3:] — оставляем только последние 3 символа (младшие разряды)
    res_hex = hex(res_dec)[2:].upper()[-3:]

    # Дополняем результат слева нулями, чтобы было ровно 3 символа, и выводим
    print(res_hex.zfill(3), end=' ')



