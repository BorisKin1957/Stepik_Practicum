'''В некоторой известной компании уже несколько лет работает очень популярный сервис Всем.Воды, занимающийся поливом людей, растений, зданий и всего остального, что можно полить без ущерба окружающим.

Пользователь указывает, что ему необходимо полить и сколько литров воды он готов на это потратить, после чего на место выезжает специальная бригада. В итоге для компании каждый заказ можно представить тройкой чисел:

время Start, когда бригада приняла заказ и выехала;

время End, когда бригада осуществила заказ и освободилась;

итоговая стоимость заказа Cost.

Для простоты обработки и хранения время задается одним целым числом, равным количеству минут, прошедших с начала запуска сервиса до искомого момента. Продолжительность заказа считается равной величине End − Start.

Начальнику сервиса необходимо отчитаться перед вышестоящим начальством, поэтому он поручил вам несложную задачку — найти ответы на несколько запросов одного из двух типов:

Найти суммарную стоимость заказов, которые начались в заданный промежуток времени.

Найти суммарную продолжительность заказов, которые завершились в заданный промежуток времени.

В обеих статистиках промежутки считаются отрезками: в промежуток от Start до End входят все величины Start, Start + 1, …, End − 1, End.

Формат ввода:
В первой строке расположено одно целое число N — количество заказов, осуществленных сервисом.

Каждая из следующих N строк содержит информацию об одном заказе в формате Start End Cost (1 ≤ Start < End ≤ 10^9; 1 ≤ Cost ≤ 10^9) — время начала и конца заказа и стоимость заказа соответственно.

В следующей строке расположено одно целое число Q — количество запросов.

Каждая из следующих Q строк содержит информацию об одном запросе в формате Start End Type (1 ≤ Start ≤ End ≤ 10^9; 1 ≤ Type ≤ 2) — время начала и конца промежутка и тип запроса соответственно.

Формат вывода:
В ответ выведите в строке через пробел Q целых чисел — ответы на запросы в порядке их ввода.

Sample Input 1:

1
10 100 1000
6
1 10 1
1 10 2
10 100 1
10 100 2
100 1000 1
100 1000 2
Sample Output 1:

1000 0 1000 90 0 90'''



# Считываем количество заказов
n = int(input())

# Списки для хранения информации о заказах
# Каждый заказ — это кортеж (start, end, cost)
orders = []

# Читаем n строк с данными о заказах
for _ in range(n):
    # Разбиваем строку на три числа: Start, End, Cost
    start, end, cost = map(int, input().split())
    # Добавляем заказ в список
    orders.append((start, end, cost))

# Считываем количество запросов
q = int(input())

# Список для хранения результатов
results = []

# Обрабатываем каждый из q запросов
for _ in range(q):
    # Читаем запрос: Start, End, Type
    line = input().split()
    start_query = int(line[0])  # Начало временного промежутка
    end_query = int(line[1])    # Конец временного промежутка
    query_type = int(line[2])   # Тип запроса: 1 — по времени начала, 2 — по времени завершения

    total = 0  # Суммарное значение для текущего запроса

    # Проходим по всем заказам
    for start, end, cost in orders:
        if query_type == 1:
            # Тип 1: суммируем стоимость заказов, которые НАЧАЛИСЬ в [start_query, end_query]
            if start_query <= start <= end_query:
                total += cost
        elif query_type == 2:
            # Тип 2: суммируем продолжительность заказов, которые ЗАВЕРШИЛИСЬ в [start_query, end_query]
            if start_query <= end <= end_query:
                duration = end - start  # Длительность заказа
                total += duration

    # Добавляем результат текущего запроса в список
    results.append(total)

# Выводим все результаты в одной строке, через пробел
print(' '.join(map(str, results)))